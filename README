まだ未完成

依存スクリプト
require 'auto-complete
require 'json

依存バイナリ
Gauche 0.9.2以上

Vim用のGauche-CompleteをEmacsに移植したものです。
gdev.el,goshcomp.el以外のファイルはすべてGauche-Completeと同じものを利用しています。

現状の機能
-ソースコード内の大域定義とuseしているモジュールの解析を行い 補完候補としてリストアップ

-ginfoコマンドによってシンボルの情報を表示
  -表示する内容
    シンボルタイプ(変数、関数、クラス...)
    定義モジュール(ファイル)名
    シンボル名
    関数であれば引数、クラスであればスロット名
    それぞれに付随するドキュメント
  -example
    Function  ---null
    (lambda formals body ...)
    
    --description--
    [R5RS+]
    この式はされると手続きを生成します。この式がされた点の境が手続き中に保持されます。
    手続きが呼ばれると、された境に引数の束を追加した境中でbody がにされ、
    最後の式のが返されます。
    ...

-anythingを利用したginfo検索
  anything-ginfo-sourceを実装。
  ginfo-anything、ginfo-with-word-anythingコマンドによって、anything-ginfo-sourceを呼び出してginfoをanythingのインタフェースを利用して実行できます。
  特にginfo-with-word-anythingコマンドは現在のカーソル位置のシンボルを入力としてanythingを呼び出し、
  一つしか候補がない場合はすぐにinfo画面を起動するのでキーマップに割り当てて使用することをお勧めします。

-ロード可能なモジュール全てから横断的に検索
  anything-ginfo-all-symbol-sourceを実装。
  動的にロードパスから全てのモジュールを探し出しシンボルを一覧できます。
  anything起動後も非同期で候補の追加と更新を行うため目的のシンボルがなかなか現れないとうことが起こる可能性があります。

-モジュール一覧検索 -> モジュール内のシンボル一覧検索
  ginfo-all-moduleコマンドを実装。
  ロード可能な全てのモジュールを一覧から選択、次にモジュール内のシンボルを一覧から選択しginfoを表示します。


Basic setup

(require 'gdev)
;;set install directory
(setq gdev:root-dir "~/.emacs.d/emacs-gdev")

(require 'goshcomp)
(require 'gosh-anything)
(defun scheme-mode-hooks ()
  ;;auto-completeにGauche用のソースを追加
  (setq ac-sources (append goshcomp:all-source ac-sources))
  ;;ginfo-with-word-anythingコマンドをC-cgkに割り当て
  (define-key scheme-mode-map "\C-cgk" 'ginfo-with-word-anything))
(add-hook 'scheme-mode-hook 'scheme-mode-hooks)

